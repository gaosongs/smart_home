# 数据库设计

## 1. 数据表说明

1. user用户表，用于存放用户的注册及基本信息，包括用户编号、手机号、密码、昵称、签名、来源、用户头像、登录次数、最后登录时间、是否登录、状态、注册时间等。
2. product 商品表，用于存放用户的上传的商品信息，包括商品编号、商品图片、商品描述、商品价格、商品类别、商品发布人、商品发布时地理位置、发布时间等信息。
3. product_type 商品类别表，用于存放商品的基础类别信息、包括商品类别编号、商品类别名称、状态、创建时间、创建人等信息。
4. order 订单表，用于存放用户购买的商品的订单信息，包括订单编号、购买人编号、商品编号、交易状态、支付状态、购买状态、卖出状态、订单金额、支付金额、支付时间、订单完成时间、第三方支付流水号、订单的创建时间、收货人手机号码、收w货人姓名、收货人地址信息。
5. payment_log 支付流水表，用于存放支付的流水信息，包括订单编号、支付请求订单号、第三方支付流水号、订单的交易状态、交易金额、实际支付金额、用户编号、支付渠道、支付请求时间、实际完成时间等信息。
6. payment_notify_log 支付回调的流水表，用于存放支付的回调信息，包括第三方支付的订单编号、系统订单号、支付状态、回调请求入参、请求时间等信息。
7. praise  点赞表，用于存放用户对商品的点赞信息，包括商品标号、点赞用户编号、昵称、头像、点赞状态、点赞时间/去掉点赞时间等信息。
8. comment_reply  评论回复表、用于存放用户的评论、回复信息、包括商品编号、评论/回复内容、评论/回复用户编号、评论/回复用户昵称、评论/回复用户头像、评论/回复时间、类型、回复人编号、回复人昵称、回复人头像、回复编号等信息。
9. chat 聊天主表，用于存放聊天时用户、商品的关联信息，包括用户编号、对方用户编号、商品编号等信息。
10. chat_list  聊天列表，用于存放对话框信息，包括聊天主表编号、商品编号、当前用户编号、当前用户昵称、当前用户头像、对方用户编号、对方用户昵称、对方用户头像、是否在线、未读数、状态等。
11. chat_detail 聊天详情表，用于存放聊天的记录信息，包括聊天对话框编号、消息发送者的用户编号、消息发送者的昵称、消息发送者的用户头像、发送内容、消息类型等信息。
12. request_log 请求流水表、用于存放系统的所有的请求流水信息，包括请求方的ip、请求路径、头部信息、请求类型、请求参数、请求时间、异常信息、日志级别、请求时长等信息。